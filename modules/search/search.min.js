/**
* @author			Julian Bogdani <jbogdani@gmail.com>
* @copyright		BraDypUS, Julian Bogdani <jbogdani@gmail.com>
* @license			See file LICENSE distributed with this code
 */
var search={init:function(e,t,a){switch(e){case"advanced":search.advanced(t);break;case"sqlExpert":search.sqlExpert(t);break;case"all":search.all(t);break;case"fast":search.fast(a,t)}},fast:function(e,t){api.showResults(t,"type=fast&string="+encodeURI(e),core.tr("fast_search"))},all:function(e){api.showResults(e,"type=all",core.tr("show_all")+" ("+e+")")},advanced:function(e){core.open({obj:"search_ctrl",method:"advancedGUI",param:{tb:e},title:core.tr("advanced_search")+" ("+e+")"})},sqlExpert:function(e){core.open({obj:"search_ctrl",method:"expertGUI",param:{tb:e},title:core.tr("sql_expert_search")+" ("+e+")"})},test:function(e,t,a){a+="&tb="+t+"&type="+e,core.getJSON("search_ctrl","test",!1,a,(function(e){core.message(e.verbose,e.status)}))},getValues:function(e,t){var a=e.find("select.fld"),r=e.find("input.value"),s=r.attr("name"),c=$("<select>").attr("name",s).attr("data-tags","true").addClass("value").addClass("form-control");if(r.replaceWith(c),"destroy"==t)return c.attr("id",!1),c.next("datalist").remove(),void enhance.combobox(c,!0);var o=$("<datalist />"),n="uid"+Date.now();a.val()&&core.getJSON("search_ctrl","getUsedValues",{tb:a.val().split(":")[0],fld:a.val().split(":")[1]},!1,(function(e){$.each(e,(function(e,t){o.append("<option>"+t+"</option>")})),o.insertAfter(c),c.attr("id",n),c.css("width","100%"),o.attr("for",n),enhance.combobox(c)}))}};