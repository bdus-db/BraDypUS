/**
 * @author			Julian Bogdani <jbogdani@gmail.com>
 * @copyright		BraDypUS, Julian Bogdani <jbogdani@gmail.com>
 * @license			See file LICENSE distributed with this code
 */
var templates={init:()=>{core.open({title:core.tr("tmpl_mng"),obj:"templates_ctrl",method:"ui"})},openEditForm:(t,e)=>{core.getHTML("templates_ctrl","openEditForm",{tmpl:t},!1,(t=>{e.html(t)}))},saveTmpl:(t,e)=>{core.getJSON("templates_ctrl","saveContent",{tmpl:t},{content:e},(t=>{core.message(t.text,t.status)}))},createTmpl:()=>{const t=prompt(core.tr("enter_tmpl_name"));if(!t)return!1;core.getJSON("templates_ctrl","saveContent",{tmpl:t,is_new:"1"},{content:"{# Edit me. I am a Twig template #}"},(t=>{core.message(t.text,t.status),"success"===t.status&&layout.tabs.reloadActive()}))},deleteTmpl:t=>{if(!confirm(core.tr("confirm_delete_tmpl",[t])))return!1;core.getJSON("templates_ctrl","deleteTmpl",{tmpl:t},!1,(t=>{core.message(t.text,t.status),"success"===t.status&&layout.tabs.reloadActive()}))},renameTmpl:t=>{const e=prompt(core.tr("enter_tmpl_name"),t);if(!e)return!1;core.getJSON("templates_ctrl","renameTmpl",{old:t,new:e},!1,(t=>{core.message(t.text,t.status),"success"===t.status&&layout.tabs.reloadActive()}))}};