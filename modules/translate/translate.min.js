/**
 * @author			Julian Bogdani <jbogdani@gmail.com>
 * @copyright		BraDypUS, Julian Bogdani <jbogdani@gmail.com>
 * @license			See file LICENSE distributed with this code
 */
var translate={init:function(){core.open({obj:"translate_ctrl",method:"showList",title:core.tr("system_translate")})},showForm:(t,e)=>{$(e).html(core.loading).load(`./?obj=translate_ctrl&method=showForm&lang=${t}`)},addLang:function(t){core.open({html:$("<input />").attr({type:"text",maxlength:2}).addClass("newLang").addClass("form-control"),title:core.tr("new_lang_code_two_digits"),buttons:[{text:core.tr("save"),click:function(){var t=$("#modal").find("input.newLang").val();t&&2===t.length?($("#modal").modal("hide"),core.getJSON("translate_ctrl","newLang",{lang:t},!1,(function(t){core.message(t.text,t.status),"success"==t.status&&layout.tabs.reloadActive()}))):core.message(core.tr("lang_lenth_must_be_two"),"error")}},{text:core.tr("close"),action:"close"}]},"modal")},saveData:(t,e,a)=>{core.getJSON("translate_ctrl","saveData",{lang:t},e,(function(t){core.message(t.text,t.status),a()}))}};